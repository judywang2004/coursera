define("bundles/catalog/components/ShareCourseButtons",["require","exports","module","jquery","naptime","react-dom","react-with-addons","bundles/catalog/components/TwitterShareButton","bundles/iconfont/Icon","bundles/naptimejs/resources/courses.v1","bundles/socialPlugins/lib","js/lib/language","js/lib/retracked","i18n!nls/catalog","css!./__styles__/ShareCourseButtons"],function(require,exports,module){"use strict";function _defaults(e,n){for(var a=Object.getOwnPropertyNames(n),t=0;t<a.length;t++){var r=a[t],o=Object.getOwnPropertyDescriptor(n,r);o&&o.configurable&&void 0===e[r]&&Object.defineProperty(e,r,o)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var i=function(){function defineProperties(o,r){for(var t=0;t<r.length;t++){var e=r[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(o,e.key,e)}}return function(e,t,r){return t&&defineProperties(e.prototype,t),r&&defineProperties(e,r),e}}(),n=function get(a,c,i){var r=!0;e:for(;r;){var t=a,s=c,u=i;r=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,s);if(void 0===e){var o=Object.getPrototypeOf(t);if(null===o)return void 0;a=o,c=s,i=u,r=!0,e=o=void 0;continue e}if("value"in e)return e.value;var n=e.get;if(void 0===n)return void 0;return n.call(u)}},$=require("jquery"),a=require("naptime"),s=require("react-dom"),e=require("react-with-addons"),r=require("bundles/catalog/components/TwitterShareButton"),u=require("bundles/iconfont/Icon"),o=require("bundles/naptimejs/resources/courses.v1"),c=require("bundles/socialPlugins/lib"),p=require("js/lib/language"),l=require("js/lib/retracked"),t=require("i18n!nls/catalog");require("css!./__styles__/ShareCourseButtons");var d=function(a){function ShareCourseButtons(){_classCallCheck(this,ShareCourseButtons),n(Object.getPrototypeOf(ShareCourseButtons.prototype),"constructor",this).apply(this,arguments)}return _inherits(ShareCourseButtons,a),i(ShareCourseButtons,[{key:"componentWillMount",value:function componentWillMount(){this.track=l.makeTracker({namespace:"page.share_course_buttons"})}},{key:"componentDidMount",value:function componentDidMount(){c.load($(s.findDOMNode(this)))}},{key:"trackClick",value:function trackClick(e){var t=this.props.course.fullLink;this.track("click",{component:e,courseLink:t,href:window.location.href})}},{key:"renderFacebookShareButton",value:function renderFacebookShareButton(){var t=this.props.course.fullLink;return e.createElement("div",{className:"fb-share-button","data-layout":"button_count","data-href":t,"data-js":"facebook-share"})}},{key:"renderGoogleShareButton",value:function renderGoogleShareButton(){var t=this.props.course.fullLink;return e.createElement("div",{className:"g-plusone","data-size":"medium","data-annotation":"bubble","data-href":t})}},{key:"renderWechatShareButton",value:function renderWechatShareButton(){var t=this.props.course,r=t.fullLink;return e.createElement("div",{className:"wechat-share-button","data-link":r,"data-imgurl":t.photoUrl,"data-title":t.name,"data-description":t.description})}},{key:"renderEmailButton",value:function renderEmailButton(){var o=this,r=this.props.course,n=this.props.course.fullLink,a=t("Check out the #{courseName} course on Coursera",{courseName:r.name}),s=t("I thought you'd be interested in the #{courseName} course on Coursera. Go to #{courseLink}",{courseName:r.name,courseLink:n}),c="mailto:?subject="+a+"&body="+s;return e.createElement("a",{href:c,className:"nostyle",onClick:function(){return o.trackClick("email")}},e.createElement(u,{name:"envelope-o",className:"cif-lg"}),t("Email"))}},{key:"render",value:function render(){var o=this.props,n=o.course,a=o.doubleRow,t=a?"share-course-button bt3-col-xs-4":"share-course-button bt3-col-xs-6";return e.createElement("div",{className:"rc-ShareCourseButtons bt3-row"},e.createElement("div",{className:t},this.renderFacebookShareButton()),e.createElement("div",{className:t},this.renderGoogleShareButton()),e.createElement("div",{className:t},e.createElement(r,{courseId:n.id})),e.createElement("div",{className:t},this.renderWechatShareButton()),e.createElement("div",{className:t},this.renderEmailButton()))}}],[{key:"propTypes",value:{course:e.PropTypes.instanceOf(o).isRequired,doubleRow:e.PropTypes.bool},enumerable:!0}]),ShareCourseButtons}(e.Component);module.exports=a.createContainer(d,function(e){return{course:o.get(e.courseId,{fields:["name","slug","description","photoUrl"],subcomponents:[r]})}})});